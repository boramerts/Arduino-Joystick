Here is a kinda updated version of my code (Updated because i didnt save it so i wrote it again...).
Couldn't add the unity visual stuff but it's just few boxes and stuff I'm sure you can figure that out.
